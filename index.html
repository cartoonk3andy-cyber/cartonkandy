<!DOCTYPE html>
<html lang="ar" dir="rtl" data-bs-theme="dark">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>free chatgpt plus</title>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7998736288062269"
     crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root {
    --gold-main: #ffb703;
    --gold-light: #ffd166;
    --gold-dark: #241700;
    --bs-body-font-family: 'Cairo', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    --bs-primary: var(--gold-main);
    --bs-primary-rgb: 255, 183, 3;
    --bs-body-bg: #0b0a07;
    --bs-body-color: #fff9ef;
  }

  body {
    background: radial-gradient(1200px 600px at 10% 10%, rgba(255,210,95,0.06), transparent 8%),
                radial-gradient(1000px 500px at 90% 90%, rgba(255,120,50,0.03), transparent 6%),
                linear-gradient(180deg, #0b0a07 0%, #1b1710 100%);
    min-height: 100vh;
  }

  /* تخصيص البوتستراب */
  .navbar {
    background: rgba(0,0,0,0.3) !important;
    backdrop-filter: blur(5px);
    border-bottom: 1px solid rgba(255,230,140,0.12);
  }
  .navbar-brand {
    color: var(--gold-light);
    font-weight: 700;
  }
  .btn-outline-gold {
    --bs-btn-color: var(--gold-light);
    --bs-btn-border-color: var(--gold-light);
    --bs-btn-hover-color: var(--gold-dark);
    --bs-btn-hover-bg: var(--gold-light);
    --bs-btn-hover-border-color: var(--gold-light);
  }
  .btn-gold {
    background-color: var(--gold-main);
    color: var(--gold-dark);
    font-weight: 700;
    border: none;
  }
  .btn-gold:hover {
    background-color: var(--gold-light);
    color: var(--gold-dark);
  }

  /* تصميم كارت المنتج */
  .product-card {
    background: linear-gradient(180deg, rgba(255,250,230,0.04), rgba(255,245,210,0.02));
    border: 1px solid rgba(255,230,140,0.12);
    backdrop-filter: blur(6px);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }
  .product-card-img {
    height: 200px;
    object-fit: cover;
  }
  .card-price {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--gold-light);
  }

  /* تخصيص المودال (النافذة المنبثقة) */
  .modal-content {
    background:linear-gradient(180deg,#1a1610, #0f0d0a);
    border: 1px solid var(--gold-main);
  }
  #productModalImage {
    max-height: 400px;
    object-fit: cover;
    border-radius: .375rem;
  }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg sticky-top mb-4">
  <div class="container">
    <a class="navbar-brand" href="#" id="siteTitle">متجر المنتجات</a>
    <button class="btn btn-outline-gold" type="button" data-bs-toggle="modal" data-bs-target="#settingsModal">
      الإعدادات
    </button>
  </div>
</nav>

<main class="container">
  <div class="row g-4" id="productGrid">
    <div class="col-lg-4 col-md-6">
      <div class="card product-card h-100">
        <img src="https://via.placeholder.com/300x200" class="card-img-top product-card-img" alt="صورة منتج">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">منتج تجريبي</h5>
          <p class="card-text flex-grow-1">هذا وصف قصير للمنتج. يمكنك تعديله من الإعدادات.</p>
          <div class="d-flex justify-content-between align-items-center">
            <span class="card-price">50 ج.م</span>
            <button class="btn btn-gold" disabled>عرض التفاصيل</button>
          </div>
        </div>
      </div>
    </div>
    
  </div>
</main>

<div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="productModalTitle">اسم المنتج</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <img src="" class="img-fluid w-100" id="productModalImage" alt="صورة المنتج">
          </div>
          <div class="col-md-6">
            <h3 id="productModalPrice" class="card-price mb-3">السعر</h3>
            <p id="productModalDescription">وصف المنتج الكامل...</p>
            <hr class="border-secondary">
            <p class="text-white-50 small">لإتمام عملية الشراء، اضغط على الزر وتواصل معنا عبر تيليجرام لإرسال إثبات الدفع وسنقوم بتسليم المنتج فوراً.</p>
            <a href="#" id="modalPurchaseLink" class="btn btn-gold btn-lg w-100" target="_blank" rel="noopener noreferrer">
              إتمام الشراء عبر تيليجرام
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="settingsModalLabel">لوحة التحكم</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        
        <div id="loginScreen">
          <label for="passInput" class="form-label">ادخل كلمة المرور</label>
          <input type="password" id="passInput" class="form-control mb-2" placeholder="كلمة السر">
          <button class="btn btn-gold w-100" id="loginBtn">دخول</button>
          <div id="loginError" class="text-danger mt-2 d-none">كلمة المرور خاطئة</div>
        </div>

        <div id="toolsScreen" class="d-none">
          <h4>إدارة المنتجات</h4>
          <p class="text-white-50">استخدم تنسيق JSON لإضافة منتجاتك. عدّل، احذف، أو أضف منتجات جديدة في هذا المربع، ثم اضغط "حفظ".</p>
          <textarea id="productsEditor" class="form-control" rows="15" dir="ltr" style="text-align: left;"></textarea>
          <hr>
          <div class="row">
            <div class="col-md-6">
              <label for="telegramLinkInput" class="form-label">رابط تيليجرام (الافتراضي)</label>
              <input type="text" id="telegramLinkInput" class="form-control" placeholder="https://t.me/username">
            </div>
            <div class="col-md-6">
              <label for="siteTitleInput" class="form-label">عنوان الموقع</label>
              <input type="text" id="siteTitleInput" class="form-control" placeholder="اسم الموقع">
            </div>
          </div>
          <hr>
          <button class="btn btn-primary w-100 btn-lg" id="saveBtn">حفظ التغييرات</button>
        </div>

      </div>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script>
  // تحديد العناصر
  const $ = (s) => document.getElementById(s);
  const productGrid = $('productGrid');
  const productModal = new bootstrap.Modal($('productModal'));
  const settingsModal = new bootstrap.Modal($('settingsModal'));

  // عناصر المودال
  const modalTitle = $('productModalTitle');
  const modalImage = $('productModalImage');
  const modalPrice = $('productModalPrice');
  const modalDescription = $('productModalDescription');
  const modalPurchaseLink = $('modalPurchaseLink');
  
  // عناصر الإعدادات
  const loginScreen = $('loginScreen');
  const toolsScreen = $('toolsScreen');
  const passInput = $('passInput');
  const loginBtn = $('loginBtn');
  const loginError = $('loginError');
  const productsEditor = $('productsEditor');
  const saveBtn = $('saveBtn');
  const telegramLinkInput = $('telegramLinkInput');
  const siteTitleInput = $('siteTitleInput');

  // حالة التطبيق
  let state = {
    secret: "zozasofsa12345678901",
    siteTitle: "متجر المنتجات",
    defaultTelegramLink: "https://t.me/YourUsername",
    products: []
  };

  // مثال للمنتجات (إذا كان المتجر فارغاً)
  const exampleProducts = [
    {
      "id": 1,
      "title": "منتج رقم 1",
      "price": "50 ج.م",
      "description": "هذا هو الوصف الكامل للمنتج الأول. يمكنك كتابة تفاصيل المنتج هنا وكيفية استخدامه.",
      "imageUrl": "https://via.placeholder.com/600x400/ffb703/241700?text=Product+1",
      "telegramLink": "" // فارغ لاستخدام الرابط الافتراضي
    },
    {
      "id": 2,
      "title": "منتج رقم 2 (رابط خاص)",
      "price": "120 ج.م",
      "description": "هذا منتج له رابط تيليجرام مختلف مخصص له.",
      "imageUrl": "https://via.placeholder.com/600x400/ffd166/241700?text=Product+2",
      "telegramLink": "https://t.me/AnotherUser"
    }
  ];

  // ============================
  //  دوال حفظ وتحميل البيانات
  // ============================

  function loadState() {
    const savedState = localStorage.getItem('bootstrapStoreState');
    if (savedState) {
      state = JSON.parse(savedState);
    } else {
      // إذا كان أول مرة، استخدم المثال
      state.products = exampleProducts;
    }
    // تطبيق الإعدادات المحفوظة
    $('siteTitle').textContent = state.siteTitle;
    document.title = state.siteTitle; // <-- تطبيق العنوان من الإعدادات
    
    // تحميل البيانات في لوحة التحكم
    productsEditor.value = JSON.stringify(state.products, null, 2); // null, 2 = تنسيق جميل
    telegramLinkInput.value = state.defaultTelegramLink;
    siteTitleInput.value = state.siteTitle;
  }

  function saveState() {
    try {
      // قراءة البيانات من المحرر
      state.products = JSON.parse(productsEditor.value);
      state.defaultTelegramLink = telegramLinkInput.value;
      state.siteTitle = siteTitleInput.value;
      
      localStorage.setItem('bootstrapStoreState', JSON.stringify(state));
      
      applySettings(); // تطبيق التغييرات على الواجهة
      renderProducts(); // إعادة رسم المنتجات
      
      // إخفاء مودال الإعدادات
      settingsModal.hide();

    } catch (e) {
      alert("خطأ في تنسيق JSON! \nتأكد من الأقواس والفواصل. \n" + e.message);
    }
  }
  
  function applySettings() {
      $('siteTitle').textContent = state.siteTitle;
      // تغيير العنوان الذي يظهر في "البحث" (التاب)
      document.title = "free chatgpt plus"; // <-- تم تثبيته بناءً على طلبك
  }

  // ============================
  //  دالة رسم المنتجات
  // ============================
  
  function renderProducts() {
    productGrid.innerHTML = ''; // إفراغ الشبكة
    if (state.products.length === 0) {
      productGrid.innerHTML = '<p class="text-white-50">لا توجد منتجات لعرضها. أضف منتجات من لوحة الإعدادات.</p>';
      return;
    }

    state.products.forEach(product => {
      // اختصار الوصف
      const shortDesc = product.description.length > 100 ? product.description.substring(0, 100) + '...' : product.description;

      const cardHTML = `
        <div class="col-lg-4 col-md-6">
          <div class="card product-card h-100">
            <img src="${product.imageUrl}" class="card-img-top product-card-img" alt="${product.title}">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">${product.title}</h5>
              <p class="card-text flex-grow-1">${shortDesc}</p>
              <div class="d-flex justify-content-between align-items-center">
                <span class="card-price">${product.price}</span>
                <button class="btn btn-gold" 
                        data-bs-toggle="modal" 
                        data-bs-target="#productModal" 
                        data-id="${product.id}">
                  عرض التفاصيل
                </button>
              </div>
            </div>
          </div>
        </div>
      `;
      productGrid.innerHTML += cardHTML;
    });
  }

  // ============================
  //  التعامل مع الأحداث (Events)
  // ============================

  // 1. عند فتح نافذة تفاصيل المنتج
  $('productModal').addEventListener('show.bs.modal', function (event) {
    // الزر الذي تم الضغط عليه
    const button = event.relatedTarget;
    // استخراج ID المنتج
    const productId = button.getAttribute('data-id');
    
    // إيجاد المنتج في البيانات
    const product = state.products.find(p => p.id == productId);

    if (product) {
      // ملء بيانات المودال
      modalTitle.textContent = product.title;
      modalImage.src = product.imageUrl;
      modalPrice.textContent = product.price;
      modalDescription.textContent = product.description;
      
      // تحديد رابط تيليجرام (إما الرابط الخاص بالمنتج أو الرابط الافتراضي)
      modalPurchaseLink.href = product.telegramLink || state.defaultTelegramLink;
    }
  });

  // 2. عند الضغط على زر الدخول في الإعدادات
  loginBtn.addEventListener('click', () => {
    if (passInput.value === state.secret) {
      loginScreen.classList.add('d-none');
      toolsScreen.classList.remove('d-none');
      loginError.classList.add('d-none');
    } else {
      loginError.classList.remove('d-none');
    }
  });
  
  // 3. عند إغلاق مودال الإعدادات (لإعادة ضبط شاشة الدخول)
  $('settingsModal').addEventListener('hidden.bs.modal', function () {
     loginScreen.classList.remove('d-none');
     toolsScreen.classList.add('d-none');
     passInput.value = '';
     loginError.classList.add('d-none');
  });

  // 4. عند الضغط على "حفظ التغييرات"
  saveBtn.addEventListener('click', saveState);

  // ============================
  //  بدء تشغيل التطبيق
  // ============================
  
  loadState();
  renderProducts();

  // ملاحظة: تم تثبيت العنوان بناءً على طلبك
  document.title = "free chatgpt plus";
  
</script>

</body>
</html>
